(()=>{"use strict";var t={174:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},2445:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="cart-list-item"> <div class="index"></div> <img class="image"> <div class="info"> <div class="title"></div> <div class="description"></div> <div class="sub-info"> <div class="rating"></div> <div class="discount"></div> </div> </div> <div class="actions"> <div class="stock"></div> <div class="buttons"> <button class="decrement">-</button> <div class="quantity"></div> <button class="increment">+</button> </div> <div class="price"></div> </div> </div>'},5161:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="cart-list"> <div class="header"> <div class="title">Products in cart</div> <div class="pagination"> <div class="limit"> <div class="label">Limit:</div> <input type="number" class="value"> </div> <div class="page"> <div class="label">Page:</div> <button class="prev">&#60;</button> <div class="value"></div> <button class="next">&#62;</button> </div> </div> </div> <div class="list"></div> </div>'},785:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="cart-summary"> <div class="header">Summary</div> <div class="content"></div> </div>'},5902:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-filters"> <div class="title"></div> <div class="list"></div> </div>'},7402:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-checkbox"> <label class="name"> <input type="checkbox" class="control"> <div class="label"></div> </label> <div class="count"></div> </div>'},960:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-filters"> <div class="actions"> <button class="reset">RESET</button> <button class="copy">COPY</button> </div> <div class="category"></div> <div class="brand"></div> <div class="price"></div> <div class="stock"></div> </div>'},1641:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-item-additional-row"> <span class="name"></span> <span class="value"></span> </div>'},4598:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-item-additonal"> </div>'},8398:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-item-small"> <img class="pic"> <div class="price"></div> <div class="name"></div> <div class="actions"> <button class="add-to-cart">ADD TO</button> <button class="details">DETAILS</button> </div> </div>'},5600:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-item"> <img class="pic"> <div class="price"></div> <div class="name"></div> <div class="actions"> <button class="add-to-cart">ADD TO CART</button> <button class="details">DETAILS</button> </div> <div class="additional"></div> </div>'},3143:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-panel"> <select class="sort"> <option value="sort-title" disabled="" selected="" class="sort-name">Sort options:</option> <option value="price-ASC">Sort by price ASC</option> <option value="price-DESC">Sort by price DESC</option> <option value="rating-ASC">Sort by rating ASC</option> <option value="rating-DESC">Sort by rating DESC</option> <option value="discountPercentage-ASC">Sort by discount ASC</option> <option value="discountPercentage-DESC">Sort by discount DESC</option> </select> <div class="total"></div> <input type="text" name="" id="" class="search" placeholder="Search product"> <div class="grid-settings"> <button class="button small" data-type="small" title="Small view"> <img> </button> <button class="button big" data-type="big" title="Big view"> <img> </button> </div> </div>'},4931:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-range-filter"> <div class="title"></div> <div class="values"> <div class="from-label"></div> <div class="to-label"></div> </div> <span class="multi-range"> <input type="range" id="from"> <input type="range" id="to"> </span> </div>'},38:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="cart-page"> <div class="wrapper"> <div class="cart-page-list"></div> <div class="cart-page-summary"></div> <div class="cart-empty">Cart is empty</div> </div> </div>'},3895:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="catalog-page"> <div class="filters"></div> <div class="content"> <div class="panel"></div> <div class="catalog-items"></div> <div class="no-results">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–æ—Å—å</div> </div> </div> '},9742:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="details-page"> Details page </div>'},8812:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s='<div class="not-found"> Page Not found 404 </div>'},2214:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i(174),o=i.n(s),a=new URL(i(6223),i.b),n=new URL(i(2819),i.b),r=o()(a);const l='<div class="root-page"> <header> <a class="logo" href="/catalog">üõç ONLINE STORE</a> <div class="cart-total"> <div class="label">Cart total:</div> <div class="value"></div> </div> <a class="cart" href="/cart"></a> </header> <div id="router"></div> <footer> <a class="github footer-item" href="https://github.com/myspecialspace" target="_blank"> <img src="'+r+'" alt="" class="course-logo footer-item" width="30" height="30"> </a> <a class="github footer-item" href="https://github.com/nurlan3193" target="_blank"> <img src="'+r+'" alt="" class="course-logo footer-item" width="30" height="30"> </a> <div class="year footer-item">¬© 2023</div> <a class="course-link footer-item" href="https://rs.school/js/" target="_blank"> <img src="'+o()(n)+'" alt="" class="course-logo footer-item"> </a> </footer> </div>'},4435:(t,e,i)=>{i.r(e)},4023:(t,e,i)=>{i.r(e)},1605:(t,e,i)=>{i.r(e)},6840:(t,e,i)=>{i.r(e)},6595:(t,e,i)=>{i.r(e)},3128:(t,e,i)=>{i.r(e)},5013:(t,e,i)=>{i.r(e)},268:(t,e,i)=>{i.r(e)},1521:(t,e,i)=>{i.r(e)},1540:(t,e,i)=>{i.r(e)},500:(t,e,i)=>{i.r(e)},3142:(t,e,i)=>{i.r(e)},7818:(t,e,i)=>{i.r(e)},9414:(t,e,i)=>{i.r(e)},9027:(t,e,i)=>{i.r(e)},5615:(t,e,i)=>{i.r(e)},3693:(t,e,i)=>{i.r(e)},1045:(t,e,i)=>{i.r(e)},296:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CartListItemComponent=void 0;const o=i(7096),a=i(633);i(4435);const n=s(i(2445));class r extends a.Component{constructor(t){super({template:n.default,state:t}),this.$index=null,this.$image=null,this.$title=null,this.$description=null,this.$rating=null,this.$discount=null,this.$stock=null,this.$increment=null,this.$quantity=null,this.$decrement=null,this.$price=null}onMounted(){this.$index=this.query(".index"),this.$image=this.query(".image"),this.$title=this.query(".title"),this.$description=this.query(".description"),this.$rating=this.query(".rating"),this.$discount=this.query(".discount"),this.$stock=this.query(".stock"),this.$increment=this.query(".increment"),this.$quantity=this.query(".quantity"),this.$decrement=this.query(".decrement"),this.$price=this.query(".price"),this.addEvents(),this.onUpdated()}onUpdated(){this.$index.textContent=String(this.state.index),this.$image.src=this.state.product.images[0],this.$title.textContent=this.state.product.title,this.$description.textContent=this.state.product.description,this.$rating.textContent=String(this.state.product.rating),this.$discount.textContent=String(this.state.product.discountPercentage),this.$stock.textContent="Stock: "+this.state.product.stock,this.$quantity.textContent=String(this.state.quantity),this.$price.textContent=this.state.product.price+"$",this.$increment.disabled=this.state.quantity===this.state.product.stock}addEvents(){this.$increment.addEventListener("click",(()=>{o.cart.incrementItem(this.state.id)})),this.$decrement.addEventListener("click",(()=>{o.cart.decrementItem(this.state.id)}))}}e.CartListItemComponent=r},6763:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CartListComponent=void 0;const o=i(633),a=i(296);i(4023);const n=s(i(5161)),r=i(1770);class l extends o.Component{constructor(t){super({template:n.default,state:t}),this.$list=null,this.$limit=null,this.$page=null,this.$prev=null,this.$next=null,this.itemComponents=[]}onMounted(){this.$list=this.query(".list"),this.$limit=this.query(".limit .value"),this.$page=this.query(".page .value"),this.$prev=this.query(".prev"),this.$next=this.query(".next"),this.onUpdated(),this.addEvents()}onUpdated(){this.state.cartProducts.length===this.itemComponents.length?this.itemComponents.forEach(((t,e)=>{t.state=this.state.cartProducts[e]})):(this.destroyItems(),this.createItems()),this.$limit.value=String(this.state.pagination.limit),this.$limit.min=String(1),this.$limit.max=String(this.state.pagination.maxLimit),this.$page.textContent=String(this.state.pagination.page),this.$prev.disabled=1===this.state.pagination.page,this.$next.disabled=this.state.pagination.page===this.state.pagination.maxPage}createItems(){this.state.cartProducts.forEach((t=>{const e=new a.CartListItemComponent(t);e.render(this.$list),this.itemComponents.push(e)}))}destroyItems(){let t;for(;t=this.itemComponents.pop();)t.destroy()}addEvents(){this.$limit.addEventListener("change",(()=>{const t=parseInt(this.$limit.value);this.emit(r.CartListEvents.LIMIT,{limit:t})})),this.$prev.addEventListener("click",(()=>{const t=this.state.pagination.page-1;this.emit(r.CartListEvents.PAGE,{page:t})})),this.$next.addEventListener("click",(()=>{const t=this.state.pagination.page+1;this.emit(r.CartListEvents.PAGE,{page:t})}))}}e.CartListComponent=l},1770:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CartListEvents=void 0,(i=e.CartListEvents||(e.CartListEvents={})).LIMIT="limit",i.PAGE="page"},5622:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CartSummaryComponent=void 0;const o=i(633);i(1605);const a=s(i(785));class n extends o.Component{constructor(t){super({template:a.default,state:t}),this.$pic=null}onMounted(){this.$pic=this.query(".pic"),this.addEvents(),this.onUpdated()}onUpdated(){}createAdditional(){}addEvents(){}}e.CartSummaryComponent=n},948:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogCheckboxFilterComponent=void 0;const o=i(633);i(6840);const a=s(i(5902)),n=i(3183),r=i(3858),l=i(878);class c extends o.Component{constructor(t){super({template:a.default,state:t}),this.$title=null,this.$list=null,this.checkboxComponents=[],this.selectedSet=new Set}onMounted(){this.$title=this.query(".title"),this.$list=this.query(".list"),this.createList(),this.onUpdated()}onUpdated(){this.$title.textContent=this.state.title,this.checkboxComponents.forEach((t=>{const e=this.state.checkboxes.find((e=>e.label===t.state.label));t.state=e})),this.selectedSet.clear(),this.state.checkboxes.forEach((t=>{t.isChecked&&this.selectedSet.add(t.label)}))}createList(){this.state.checkboxes.forEach((t=>{const e=new n.CatalogCheckboxComponent(t);e.render(this.$list),e.on(r.CatalogCheckboxEvent.CHANGE,(t=>{const e=t.checkbox.label;t.isChecked?this.selectedSet.add(e):this.selectedSet.delete(e);const i=Array.from(this.selectedSet);this.emit(l.CatalogCheckboxFilterEvent.CHANGE,i)})),this.checkboxComponents.push(e)}))}}e.CatalogCheckboxFilterComponent=c},878:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogCheckboxFilterEvent=void 0,(e.CatalogCheckboxFilterEvent||(e.CatalogCheckboxFilterEvent={})).CHANGE="change"},3183:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogCheckboxComponent=void 0;const o=i(633);i(6595);const a=s(i(7402)),n=i(3858);class r extends o.Component{constructor(t){super({template:a.default,state:t}),this.$label=null,this.$count=null,this.$control=null}onMounted(){this.$label=this.query(".label"),this.$count=this.query(".count"),this.$control=this.query(".control"),this.onUpdated(),this.addEvents()}onUpdated(){this.$label.textContent=this.state.label,this.$count.textContent=`(${this.state.visible}/${this.state.total})`,this.$root.classList.toggle("not_found",0===this.state.visible),this.$control.checked=this.state.isChecked}addEvents(){this.$control.addEventListener("change",(()=>{this.emit(n.CatalogCheckboxEvent.CHANGE,{checkbox:this.state,isChecked:this.$control.checked})}))}}e.CatalogCheckboxComponent=r},3858:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogCheckboxEvent=void 0,(e.CatalogCheckboxEvent||(e.CatalogCheckboxEvent={})).CHANGE="change"},4281:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogFiltersComponent=void 0;const o=i(633);i(3128);const a=s(i(960)),n=i(948),r=i(878),l=i(7262),c=i(5454),h=i(4807);class d extends o.Component{constructor(t){super({template:a.default,state:t}),this.$category=null,this.$brand=null,this.$price=null,this.$stock=null,this.$reset=null,this.$copy=null,this.categoryComponent=null,this.brandComponent=null,this.priceComponent=null,this.stockComponent=null,this.selectedBrands=[],this.selectedCategories=[],this.price=null,this.stock=null}onMounted(){this.$category=this.query(".category"),this.$brand=this.query(".brand"),this.$price=this.query(".price"),this.$stock=this.query(".stock"),this.$reset=this.query(".reset"),this.$copy=this.query(".copy"),this.createCategoryFilter(),this.createBrandFilter(),this.createPriceFilter(),this.createStockFilter(),this.onUpdated(),this.addEvents()}onUpdated(){this.categoryComponent.state=this.state.category,this.brandComponent.state=this.state.brand,this.priceComponent.state=this.state.price,this.stockComponent.state=this.state.stock,this.price=this.state.price,this.stock=this.state.stock}createCategoryFilter(){this.categoryComponent=new n.CatalogCheckboxFilterComponent(this.state.category),this.categoryComponent.render(this.$category),this.categoryComponent.on(r.CatalogCheckboxFilterEvent.CHANGE,(t=>{this.selectedCategories=t,this.emitChange()}))}createBrandFilter(){this.brandComponent=new n.CatalogCheckboxFilterComponent(this.state.brand),this.brandComponent.render(this.$brand),this.brandComponent.on(r.CatalogCheckboxFilterEvent.CHANGE,(t=>{this.selectedBrands=t,this.emitChange()}))}createPriceFilter(){this.priceComponent=new c.CatalogRangeFilterComponent(this.state.price),this.priceComponent.render(this.$price),this.priceComponent.on(h.CatalogRangeFilterEvent.CHANGE,(t=>{this.price=t,this.emitChange()}))}createStockFilter(){this.stockComponent=new c.CatalogRangeFilterComponent(this.state.stock),this.stockComponent.render(this.$stock),this.stockComponent.on(h.CatalogRangeFilterEvent.CHANGE,(t=>{this.stock=t,this.emitChange()}))}emitChange(){this.emit(l.CatalogFiltersEvent.CHANGE,{brands:this.selectedBrands,categories:this.selectedCategories,price:this.price,stock:this.stock})}addEvents(){this.$reset.addEventListener("click",(()=>{this.selectedBrands=[],this.selectedCategories=[],this.price=null,this.stock=null,this.emit(l.CatalogFiltersEvent.RESET)})),this.$copy.addEventListener("click",(()=>{this.emit(l.CatalogFiltersEvent.COPY)}))}}e.CatalogFiltersComponent=d},7262:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogFiltersEvent=void 0,(i=e.CatalogFiltersEvent||(e.CatalogFiltersEvent={})).CHANGE="change",i.RESET="reset",i.COPY="copy"},1034:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogItemAdditionalRowComponent=void 0;const o=i(633);i(5013);const a=s(i(1641));class n extends o.Component{constructor(t){super({template:a.default,state:t}),this.$name=null,this.$value=null}onMounted(){this.$name=this.query(".name"),this.$value=this.query(".value"),this.onUpdated()}onUpdated(){this.$name.textContent=this.state.name+":",this.$value.textContent=String(this.state.value)}}e.CatalogItemAdditionalRowComponent=n},2896:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogItemAdditionalComponent=void 0;const o=i(633);i(268);const a=s(i(4598)),n=i(1034);class r extends o.Component{constructor(t){super({template:a.default,state:t}),this.rowComponents=[],this.rows=[]}onMounted(){this.onUpdated()}onUpdated(){this.defineRows(),this.createRows()}defineRows(){this.rows=[{name:"Category",value:this.state.category},{name:"Brand",value:this.state.brand},{name:"Price",value:this.state.price+"$"},{name:"Discount",value:this.state.discountPercentage+"%"},{name:"Rating",value:this.state.rating},{name:"Stock",value:this.state.stock}]}createRows(){this.rows.forEach((t=>{const e=new n.CatalogItemAdditionalRowComponent(t);e.render(this.$root),this.rowComponents.push(e)}))}}e.CatalogItemAdditionalComponent=r},1690:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogItemSmallComponent=void 0;const o=i(633);i(1521);const a=s(i(8398));class n extends o.Component{constructor(t){super({template:a.default,state:t}),this.$pic=null,this.$price=null,this.$name=null,this.$addToCartButton=null,this.$detailsButton=null}onMounted(){this.$pic=this.query(".pic"),this.$price=this.query(".price"),this.$name=this.query(".name"),this.$addToCartButton=this.query(".add-to-cart"),this.$detailsButton=this.query(".details"),this.addEvents(),this.onUpdated()}onUpdated(){this.$pic.src=this.state.images[0],this.$price.textContent=this.state.price+"$",this.$name.textContent=this.state.title}addEvents(){var t,e;null===(t=this.$addToCartButton)||void 0===t||t.addEventListener("click",(()=>{})),null===(e=this.$detailsButton)||void 0===e||e.addEventListener("click",(()=>{}))}}e.CatalogItemSmallComponent=n},8781:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogItemComponent=void 0;const o=i(7096),a=i(633),n=i(9862),r=i(5361),l=i(2896);i(1540);const c=s(i(5600));class h extends a.Component{constructor(t){super({template:c.default,state:t}),this.$pic=null,this.$price=null,this.$name=null,this.$additional=null,this.$addToCartButton=null,this.$detailsButton=null,this.additionalComponent=null,this.inCart=!1}onMounted(){this.$pic=this.query(".pic"),this.$price=this.query(".price"),this.$name=this.query(".name"),this.$additional=this.query(".additional"),this.$addToCartButton=this.query(".add-to-cart"),this.$detailsButton=this.query(".details"),this.addEvents(),this.onUpdated()}onUpdated(){this.$pic.src=this.state.images[0],this.$price.textContent=this.state.price+"$",this.$name.textContent=this.state.title,this.createAdditional()}createAdditional(){this.additionalComponent=new l.CatalogItemAdditionalComponent(this.state),this.additionalComponent.render(this.$additional)}addEvents(){var t,e;null===(t=this.$addToCartButton)||void 0===t||t.addEventListener("click",(()=>{this.inCart?(o.cart.decrementItem(this.state.id),this.$addToCartButton.textContent="ADD TO CART"):(o.cart.incrementItem(this.state.id),this.$addToCartButton.textContent="DROP FROM CART"),this.inCart=!this.inCart})),null===(e=this.$detailsButton)||void 0===e||e.addEventListener("click",(()=>{n.router.setPage(r.RouterPaths.DETAILS)}))}}e.CatalogItemComponent=h},1681:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogPanelComponent=void 0;const o=i(633);i(500);const a=s(i(3143)),n=s(i(5719)),r=s(i(2721)),l=i(6079);class c extends o.Component{constructor(t){super({template:a.default,state:t}),this.$sort=null,this.$total=null,this.$search=null,this.$buttonSmall=null,this.$buttonBig=null,this.onButtonClick=t=>{const e=t.currentTarget.dataset.type;this.emit(l.CatalogPanelEvents.VIEW,e)}}onMounted(){this.$sort=this.query(".sort"),this.$total=this.query(".total"),this.$search=this.query(".search"),this.$buttonBig=this.query(".button.big"),this.$buttonSmall=this.query(".button.small"),this.$buttonBig.querySelector("img").src=n.default,this.$buttonSmall.querySelector("img").src=r.default,this.onUpdated(),this.addEvents()}onUpdated(){this.$total.textContent="Found: "+this.state.limit,[this.$buttonBig,this.$buttonSmall].forEach((t=>{const e=t.dataset.type;null==t||t.classList.toggle("active",e===this.state.view)})),this.$search.value=this.state.search,this.$sort.value=`${this.state.sortField}-${this.state.sortType}`}addEvents(){this.$sort.addEventListener("change",(()=>{this.emit(l.CatalogPanelEvents.SORT,this.$sort.value)})),this.$search.addEventListener("input",(()=>{this.emit(l.CatalogPanelEvents.SEARCH,this.$search.value)})),this.$buttonBig.addEventListener("click",this.onButtonClick),this.$buttonSmall.addEventListener("click",this.onButtonClick)}}e.CatalogPanelComponent=c},6079:(t,e)=>{var i,s;Object.defineProperty(e,"__esModule",{value:!0}),e.ViewType=e.CatalogPanelEvents=void 0,(s=e.CatalogPanelEvents||(e.CatalogPanelEvents={})).VIEW="view",s.SORT="sort",s.SEARCH="search",(i=e.ViewType||(e.ViewType={})).BIG="big",i.SMALL="small"},5454:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogRangeFilterComponent=void 0;const o=i(633);i(3142);const a=s(i(4931)),n=i(4807);class r extends o.Component{constructor(t){super({template:a.default,state:t}),this.$from=null,this.$to=null,this.$title=null,this.$fromLabel=null,this.$toLabel=null,this.fromValue=0,this.toValue=0,this.delta=0}onMounted(){this.$from=this.query("#from"),this.$to=this.query("#to"),this.$title=this.query(".title"),this.$fromLabel=this.query(".from-label"),this.$toLabel=this.query(".to-label"),this.onUpdated(),this.addEvents()}onUpdated(){this.$title.textContent=this.state.title,this.$from.min=String(this.state.min),this.$from.max=String(this.state.max),this.$from.value=String(this.state.from),this.$to.min=String(this.state.min),this.$to.max=String(this.state.max),this.$to.value=String(this.state.to),this.updateFromToLabels()}addEvents(){this.$from.addEventListener("input",(()=>{const t=parseInt(this.$from.value),e=parseInt(this.$to.value);e<t+this.delta&&(this.$from.value=String(e-this.delta),String(t)===this.$from.min&&(this.$to.value=String(this.delta))),this.updateFromToLabels(),this.emitChange()})),this.$to.addEventListener("input",(()=>{const t=parseInt(this.$from.value),e=parseInt(this.$to.value);t>e-this.delta&&(this.$to.value=String(t+this.delta),String(e)===this.$to.max&&(this.$from.value=String(parseInt(this.$to.max)-this.delta))),this.updateFromToLabels(),this.emitChange()}))}updateFromToLabels(){this.$fromLabel.textContent=this.$from.value,this.$toLabel.textContent=this.$to.value}emitChange(){const t=parseInt(this.$from.value),e=parseInt(this.$to.value);this.emit(n.CatalogRangeFilterEvent.CHANGE,{from:t,to:e})}}e.CatalogRangeFilterComponent=r},4807:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogRangeFilterEvent=void 0,(e.CatalogRangeFilterEvent||(e.CatalogRangeFilterEvent={})).CHANGE="change"},9232:function(t,e){var i=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,a){function n(t){try{l(s.next(t))}catch(t){a(t)}}function r(t){try{l(s.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,r)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.api=void 0,e.api=new class{constructor(){this.baseUrl="https://dummyjson.com"}getProducts(){const t="?"+this.getQuery({limit:"100"});return this.request("/products"+t)}request(t,e){return i(this,void 0,void 0,(function*(){const i=yield fetch(this.baseUrl+t,e);return yield i.json()}))}getQuery(t){return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}}},5597:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(9232),e)},745:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.parseQuery=e.ParseType=e.queryStringify=void 0,e.queryStringify=t=>{const e=[];return Object.keys(t).forEach((i=>{const s=t[i];if(Array.isArray(s)&&!s.length)return;if(null==s||""===s)return;const o=Array.isArray(s)?s.join(","):String(s);e.push(`${i}=${o}`)})),e.join("&")},function(t){t.STRING="string",t.NUMBER="number",t.ARRAY="array"}(i=e.ParseType||(e.ParseType={})),e.parseQuery=t=>{const e=window.location.search.slice(1).split("&"),s={};return e.forEach((e=>{const[o,a]=e.split("=");let n=a;switch(t.fields[o]){case i.ARRAY:n=a.split(",");break;case i.NUMBER:n=parseInt(a);break;case i.STRING:default:n=a}s[o]=n})),s}},6329:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalQuantity=void 0,e.getTotalQuantity=t=>t.reduce(((t,e)=>t+e.quantity),0)},7096:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cart=void 0;const i="STORE_CART";e.cart=new class{constructor(){this.changeFns=[]}incrementItem(t,e=1){const i=this.getCart(),s=i.findIndex((e=>e.id===t));if(-1===s)i.push({id:t,quantity:e});else{const o=i[s].quantity;i.splice(s,1,{id:t,quantity:o+e})}this.setCart(i)}decrementItem(t,e=1){const i=this.getCart(),s=i.findIndex((e=>e.id===t)),o=i[s];1===o.quantity?i.splice(s,1):i.splice(s,1,{id:t,quantity:o.quantity-e}),this.setCart(i)}onChange(t){this.changeFns.push(t)}getCart(){return JSON.parse(localStorage.getItem(i)||"[]")}setCart(t){localStorage.setItem(i,JSON.stringify(t)),this.callChangeFns()}callChangeFns(){const t=this.getCart();this.changeFns.forEach((e=>{e(t)}))}}},209:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.formatPrice=e.getTotalPrice=void 0,e.getTotalPrice=(t,e)=>t.reduce(((t,i)=>t+e.find((t=>t.id===i.id)).price*i.quantity),0),e.formatPrice=t=>t+"$"},5197:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;const s=i(4134);e.Component=class{constructor(t){this._$parent=null,this._listeners=[],this.isMounted=!1,this.$root=null,this._state=t.state||{},this._template=t.template,this._templateDom=document.createElement("div"),this._templateDom.innerHTML=this._template}set state(t){this._state=Object.assign(Object.assign({},this._state),t),this.isMounted&&this._callHook(s.Hooks.ON_UPDATED)}get state(){return this._state}render(t){this._$parent="string"==typeof t?document.querySelector(t):t;const e=this._templateDom.children;if(1!==e.length)throw console.error("DomChildren",e),Error(`Component template must have only 1 root element. But got ${e.length}.`);this.$root=e[0],this._$parent.appendChild(this.$root),this.isMounted=!0,this._callHook(s.Hooks.ON_MOUNTED)}destroy(){this.$root.remove(),this._listeners=[],this._callHook(s.Hooks.ON_DESTROYED)}query(t){return this.$root.querySelector(t)}queryAll(t){return this.$root.querySelectorAll(t)}on(t,e){return this._listeners.push({name:t,fn:e}),this}emit(t,e){this._listeners.forEach((i=>{i.name===t&&i.fn(e)}))}_callHook(t){const e=this[t];"function"==typeof e&&e.call(this)}}},633:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(5197),e)},4134:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Hooks=void 0,(i=e.Hooks||(e.Hooks={})).ON_MOUNTED="onMounted",i.ON_UPDATED="onUpdated",i.ON_DESTROYED="onDestroyed"},5361:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.RouterPaths=void 0,(i=e.RouterPaths||(e.RouterPaths={})).CATALOG="catalog",i.DETAILS="details",i.CART="cart",i.NOT_FOUND="*"},9862:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(6832),e)},6832:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.router=void 0;const s=i(5481),o=i(5361),a=i(9995),n=i(4729),r=i(5584),l=[{name:o.RouterPaths.CATALOG,component:s.CatalogPage},{name:o.RouterPaths.DETAILS,component:n.DetailsPage},{name:o.RouterPaths.CART,component:r.CartPage}];e.router=new class{constructor(t,e){this._currentRoute=null,this._config=t,this._callbacks=[],this._NotFoundPage=e,this.setInitialPage(),window.addEventListener("popstate",(()=>{const t=window.location.pathname+window.location.search;this.setPage(t,!1)}))}onChange(t){this._callbacks.push(t)}setPage(t,e=!0){const i=this._currentRoute;this._currentRoute=this._findPage(t),this._currentRoute?e&&this._changeUrl(t):this._currentRoute={name:o.RouterPaths.NOT_FOUND,component:this._NotFoundPage},(null==i?void 0:i.name)!==this._currentRoute.name&&this._emitCallbacks()}getCurrentRoute(){return this._currentRoute}_emitCallbacks(){this._callbacks.forEach((t=>t(this._currentRoute)))}_findPage(t){const e="/"===t[0]?t:"/"+t,i=new URL(window.location.origin+e).pathname.slice(1);return this._config.find((t=>t.name===i))||null}_changeUrl(t){t!==window.location.pathname+window.location.pathname&&window.history.pushState(null,"",t)}setInitialPage(){const{pathname:t,search:e}=window.location,i="/"===t?this._config[0].name+e:t+e;this.setPage(i)}}(l,a.NotFoundPage)},9668:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseOptions=void 0;const s=i(745),o=i(3886);e.parseOptions={fields:{[o.QueryName.LIMIT]:s.ParseType.NUMBER,[o.QueryName.PAGE]:s.ParseType.NUMBER}}},5584:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,a){function n(t){try{l(s.next(t))}catch(t){a(t)}}function r(t){try{l(s.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,r)}l((s=s.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CartPage=void 0;const a=i(6763),n=i(1770),r=i(5622),l=i(5597),c=i(745),h=i(7096),d=i(633),u=i(9862),p=i(5361),m=i(9668);i(7818);const v=o(i(38)),g=i(3886);class C extends d.Component{constructor(){super({template:v.default}),this.cartState=h.cart.getCart(),this.products=[],this.cartProducts=[],this.listComponent=null,this.summaryComponent=null,this.$list=null,this.$summary=null,this.$empty=null,this.pagination={limit:1,maxLimit:1,page:1,maxPage:1}}onMounted(){return s(this,void 0,void 0,(function*(){this.$list=this.query(".cart-page-list"),this.$summary=this.query(".cart-page-summary"),this.$empty=this.query(".cart-empty"),this.cartState=h.cart.getCart(),this.products=(yield l.api.getProducts()).products,this.cartProducts=this.getCartProductsPagination(),this.updatePaginationFromUrl(),this.listOrEmpty(),this.updatePaginationList(),h.cart.onChange((t=>{this.cartState=t,this.updatePaginationList(),this.listOrEmpty(),this.listComponent&&(this.listComponent.state={cartProducts:this.getCartProductsPagination()})}))}))}getCartProductsPagination(){const{page:t,limit:e}=this.pagination,i=t*e-e,s=e+i;return this.cartState.slice(i,s).map(((t,e)=>Object.assign(Object.assign({},t),{index:i+e+1,product:this.products.find((e=>e.id===t.id))})))}createList(){this.listComponent||(this.listComponent=new a.CartListComponent({cartProducts:this.cartProducts,pagination:this.pagination}),this.listComponent.on(n.CartListEvents.LIMIT,(({limit:t})=>{this.pagination.limit=t,this.updatePaginationList(),this.setPaginationInUrl()})).on(n.CartListEvents.PAGE,(({page:t})=>{this.pagination.page=t,this.updatePaginationList(),this.setPaginationInUrl()})),this.listComponent.render(this.$list))}destroyList(){var t;null===(t=this.listComponent)||void 0===t||t.destroy()}createSummary(){this.summaryComponent||(this.summaryComponent=new r.CartSummaryComponent({}),this.summaryComponent.render(this.$summary))}destroySummary(){var t;null===(t=this.summaryComponent)||void 0===t||t.destroy()}listOrEmpty(){0===this.cartState.length?(this.$empty.classList.add("visible"),this.destroyList(),this.destroySummary()):(this.$empty.classList.remove("visible"),this.createList(),this.createSummary())}updatePaginationFromUrl(){var t,e;const i=(0,c.parseQuery)(m.parseOptions);this.pagination=Object.assign(Object.assign({},this.pagination),{limit:null!==(t=i[g.QueryName.LIMIT])&&void 0!==t?t:this.cartState.length,page:null!==(e=i[g.QueryName.PAGE])&&void 0!==e?e:1})}setPaginationInUrl(){const t={[g.QueryName.PAGE]:this.pagination.page,[g.QueryName.LIMIT]:this.pagination.limit},e="?"+(0,c.queryStringify)(t),i="/"+p.RouterPaths.CART+e;u.router.setPage(i)}updatePaginationList(){if(!this.listComponent)return;const t=this.cartState.length,e=Math.ceil(t/this.pagination.limit);this.pagination.page>e&&(this.pagination.page=e),this.listComponent.state={cartProducts:this.getCartProductsPagination(),pagination:Object.assign(Object.assign({},this.pagination),{maxLimit:t,maxPage:e})}}}e.CartPage=C},3886:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.QueryName=void 0,(i=e.QueryName||(e.QueryName={})).PAGE="page",i.LIMIT="limit"},6523:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseOptions=e.FilterField=void 0;const s=i(745),o=i(1342);var a;(a=e.FilterField||(e.FilterField={})).CATEGORY="category",a.BRAND="brand",e.parseOptions={fields:{[o.QueryName.BRANDS]:s.ParseType.ARRAY,[o.QueryName.CATEGORIES]:s.ParseType.ARRAY,[o.QueryName.PRICE_FROM]:s.ParseType.NUMBER,[o.QueryName.PRICE_TO]:s.ParseType.NUMBER,[o.QueryName.STOCK_FROM]:s.ParseType.NUMBER,[o.QueryName.STOCK_TO]:s.ParseType.NUMBER,[o.QueryName.SORT_TYPE]:s.ParseType.STRING,[o.QueryName.SORT_FIELD]:s.ParseType.STRING,[o.QueryName.SEARCH]:s.ParseType.STRING,[o.QueryName.VIEW]:s.ParseType.STRING}}},5481:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,a){function n(t){try{l(s.next(t))}catch(t){a(t)}}function r(t){try{l(s.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,r)}l((s=s.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogPage=void 0;const a=i(4281),n=i(8781),r=i(1681),l=i(5597),c=i(633),h=i(9862);i(9414);const d=o(i(3895)),u=i(6523),p=i(6079),m=i(1690),v=i(7262),g=i(5361),C=i(745),y=i(1342);class f extends c.Component{constructor(){super({template:d.default}),this.itemComponents=[],this.panelComponent=null,this.filtersComponent=null,this.data=null,this.visibleProducts=[],this.$items=null,this.$panel=null,this.$filters=null,this.$noResults=null,this.sortType=y.SortType.ASC,this.sortField=y.SortField.PRICE,this.viewType=p.ViewType.BIG,this.FILTER_INITIAL={brands:[],categories:[],price:{from:10,to:1749},stock:{from:2,to:150}},this.currentFilter=this.FILTER_INITIAL,this.searchValue=""}onMounted(){return s(this,void 0,void 0,(function*(){this.$items=this.query(".catalog-items"),this.$panel=this.query(".panel"),this.$filters=this.query(".filters"),this.$noResults=this.query(".no-results"),this.data=yield l.api.getProducts(),this.visibleProducts=this.data.products,this.createPanel(),this.createProducts(),this.createFilters(),this.updateViewType(this.viewType),this.updateFilterFromUrl(),this.filterAndSearchProducts(),this.updateFilters()}))}createPanel(){this.panelComponent=new r.CatalogPanelComponent({limit:this.visibleProducts.length,view:this.viewType,search:this.searchValue,sortField:this.sortField,sortType:this.sortType}),this.panelComponent.on(p.CatalogPanelEvents.SORT,(t=>{const e=t.split("-");this.sortField=e[0],this.sortType=e[1],this.makeSort(),this.setFilterToUrl()})).on(p.CatalogPanelEvents.SEARCH,(t=>{this.searchValue=t,this.filterAndSearchProducts(),this.updateFilters(),this.setFilterToUrl()})).on(p.CatalogPanelEvents.VIEW,(t=>{this.updateViewType(t),this.setFilterToUrl()})),this.panelComponent.render(this.$panel)}createProducts(){this.visibleProducts.forEach((t=>{const e=this.viewType===p.ViewType.BIG?new n.CatalogItemComponent(t):new m.CatalogItemSmallComponent(t);e.render(this.$items),this.itemComponents.push(e)}))}destroyProducts(){let t;for(;t=this.itemComponents.pop();)t.destroy()}createFilters(){const t=this.getBrandFilter(),e=this.getCategoryFilter(),i=this.getPriceFilter(),s=this.getStockFilter();this.filtersComponent=new a.CatalogFiltersComponent({brand:t,category:e,price:i,stock:s}),this.filtersComponent.render(this.$filters),this.filtersComponent.on(v.CatalogFiltersEvent.CHANGE,(t=>{this.currentFilter=t,this.filterAndSearchProducts(),this.setFilterToUrl()})).on(v.CatalogFiltersEvent.RESET,(()=>{this.resetFilter()})).on(v.CatalogFiltersEvent.COPY,(()=>{this.copyFilter()}))}updateFilters(){const t=this.getBrandFilter(),e=this.getCategoryFilter(),i=this.getPriceFilter(),s=this.getStockFilter();this.filtersComponent.state={brand:t,category:e,stock:s,price:i},this.panelComponent.state={search:this.searchValue,sortField:this.sortField,sortType:this.sortType,view:this.viewType}}getBrandFilter(){return this.getFilter(u.FilterField.BRAND,"Brand")}getCategoryFilter(){return this.getFilter(u.FilterField.CATEGORY,"Category")}getStockFilter(){return{min:2,max:150,from:this.currentFilter.stock.from,to:this.currentFilter.stock.to,title:"Stock"}}getPriceFilter(){return{min:10,max:1749,from:this.currentFilter.price.from,to:this.currentFilter.price.to,title:"Price"}}getFilter(t,e){var i;const s=(null===(i=this.data)||void 0===i?void 0:i.products)||[],o=this.visibleProducts||[],a=[],n={};return s.forEach((e=>{const i=e[t];if(!n[i]){const e=s.filter((e=>e[t]===i)).length,r=o.filter((e=>e[t]===i)).length,l=this.getIsCheckboxChecked(t,i);a.push({label:i,total:e,visible:r,isChecked:l}),n[i]=!0}})),{title:e,checkboxes:a}}getIsCheckboxChecked(t,e){return(t===u.FilterField.BRAND?this.currentFilter.brands:this.currentFilter.categories).includes(e)}makeSort(){this.sortVisibleProducts(),this.destroyProducts(),this.createProducts()}sortVisibleProducts(){this.visibleProducts.sort(((t,e)=>this.sortType===y.SortType.DESC?t[this.sortField]-e[this.sortField]:e[this.sortField]-t[this.sortField]))}updateViewType(t){const e=this.viewType!==t;this.viewType=t,Object.values(p.ViewType).forEach((t=>{this.$root.classList.remove(`view_${t}`)})),this.$root.classList.add(`view_${t}`),e&&(this.destroyProducts(),this.createProducts()),this.panelComponent.state={view:this.viewType}}updateFound(){var t;this.panelComponent.state={limit:this.visibleProducts.length},null===(t=this.$noResults)||void 0===t||t.classList.toggle("visible",0===this.visibleProducts.length)}filterAndSearchProducts(){this.filterAndSearch(),this.destroyProducts(),this.createProducts(),this.updateFound(),this.updateFilters()}filterAndSearch(){var t;this.visibleProducts=[];const{categories:e,brands:i,price:s,stock:o}=this.currentFilter,a=["title","description"];for(const n of(null===(t=this.data)||void 0===t?void 0:t.products)||[])if((!e.length||e.includes(n.category))&&(!i.length||i.includes(n.brand))&&!(n.price<s.from||n.price>s.to||n.stock<o.from||n.stock>o.to)){if(this.searchValue){const t=this.searchValue.toLocaleLowerCase();if(!a.some((e=>String(n[e]).toLocaleLowerCase().includes(t))))continue}this.visibleProducts.push(n)}}setFilterToUrl(){const t={[y.QueryName.CATEGORIES]:this.currentFilter.categories,[y.QueryName.BRANDS]:this.currentFilter.brands,[y.QueryName.PRICE_FROM]:this.currentFilter.price.from,[y.QueryName.PRICE_TO]:this.currentFilter.price.to,[y.QueryName.STOCK_FROM]:this.currentFilter.stock.from,[y.QueryName.STOCK_TO]:this.currentFilter.stock.to,[y.QueryName.SORT_TYPE]:this.sortType,[y.QueryName.SORT_FIELD]:this.sortField,[y.QueryName.SEARCH]:this.searchValue,[y.QueryName.VIEW]:this.viewType},e="?"+(0,C.queryStringify)(t),i="/"+g.RouterPaths.CATALOG+e;h.router.setPage(i)}updateFilterFromUrl(){const t=(0,C.parseQuery)(u.parseOptions);this.currentFilter={brands:t[y.QueryName.BRANDS]||this.FILTER_INITIAL.brands,categories:t[y.QueryName.CATEGORIES]||this.FILTER_INITIAL.categories,price:{from:t[y.QueryName.PRICE_FROM]||this.FILTER_INITIAL.price.from,to:t[y.QueryName.PRICE_TO]||this.FILTER_INITIAL.price.to},stock:{from:t[y.QueryName.STOCK_FROM]||this.FILTER_INITIAL.stock.from,to:t[y.QueryName.STOCK_TO]||this.FILTER_INITIAL.stock.to}},this.sortType=t[y.QueryName.SORT_TYPE]||y.SortType.ASC,this.sortField=t[y.QueryName.SORT_FIELD]||y.SortField.PRICE,this.searchValue=t[y.QueryName.SEARCH]||"",this.viewType=t[y.QueryName.VIEW]||p.ViewType.BIG}resetFilter(){h.router.setPage(g.RouterPaths.CATALOG),this.updateFilterFromUrl(),this.filterAndSearchProducts(),this.updateFilters()}copyFilter(){return s(this,void 0,void 0,(function*(){try{yield navigator.clipboard.writeText(window.location.href)}catch(t){console.error("Failed to copy: ",t)}}))}}e.CatalogPage=f},1342:(t,e)=>{var i,s,o;Object.defineProperty(e,"__esModule",{value:!0}),e.SortField=e.SortType=e.QueryName=void 0,(o=e.QueryName||(e.QueryName={})).CATEGORIES="categories",o.BRANDS="brands",o.PRICE_FROM="price_form",o.PRICE_TO="price_to",o.STOCK_FROM="stock_from",o.STOCK_TO="stock_to",o.SORT_TYPE="sort_type",o.SORT_FIELD="sort_field",o.SEARCH="search",o.VIEW="view",(s=e.SortType||(e.SortType={})).ASC="ASC",s.DESC="DESC",(i=e.SortField||(e.SortField={})).PRICE="price",i.RATING="rating",i.DISCOUNT_PERCENTAGE="discountPercentage"},4729:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DetailsPage=void 0;const o=i(633);i(9027);const a=s(i(9742));class n extends o.Component{constructor(){super({template:a.default})}}e.DetailsPage=n},9995:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundPage=void 0;const o=i(633);i(5615);const a=s(i(8812));class n extends o.Component{constructor(){super({template:a.default})}}e.NotFoundPage=n},5786:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,a){function n(t){try{l(s.next(t))}catch(t){a(t)}}function r(t){try{l(s.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,r)}l((s=s.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RootComponent=void 0;const a=i(5597),n=i(7096),r=i(633),l=i(209),c=i(9862),h=i(5361);i(3693);const d=o(i(2214)),u=i(6329);class p extends r.Component{constructor(){super({template:d.default}),this.component=null,this.$router=null,this.$logo=null,this.$cartTotalValue=null,this.$cart=null,this.cartState=[],this.products=[]}updateComponent(t){const e=this.component;this.component=new t.component,e&&e.destroy(),this.component.render(this.$router)}onMounted(){return s(this,void 0,void 0,(function*(){this.$router=this.query("#router"),this.$logo=this.query(".logo"),this.$cartTotalValue=this.query(".cart-total .value"),this.$cart=this.query(".cart"),this.updateComponent(c.router.getCurrentRoute()),c.router.onChange((t=>{this.updateComponent(t)})),n.cart.onChange((t=>{this.cartState=t,this.updateCartLink(),this.updateCartTotal()})),this.addEvents(),this.cartState=n.cart.getCart(),this.updateCartLink(),this.products=(yield a.api.getProducts()).products,this.updateCartTotal()}))}addEvents(){this.$logo.addEventListener("click",(t=>{t.preventDefault(),c.router.setPage(h.RouterPaths.CATALOG)})),this.$cart.addEventListener("click",(t=>{t.preventDefault(),c.router.setPage(h.RouterPaths.CART)}))}updateCartLink(){const t=(0,u.getTotalQuantity)(this.cartState);this.$cart.textContent=0===t?"Cart":`Cart (${t})`}updateCartTotal(){this.$cartTotalValue.textContent=(0,l.formatPrice)((0,l.getTotalPrice)(this.cartState,this.products))}}e.RootComponent=p},6223:(t,e,i)=>{t.exports=i.p+"2eb79e35788202f56c8e.svg"},5719:(t,e,i)=>{t.exports=i.p+"48fa03b6f6044452b532.png"},2721:(t,e,i)=>{t.exports=i.p+"f1929a80bc31249f8977.png"},2819:(t,e,i)=>{t.exports=i.p+"22834594fa411ba3bf18.svg"}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.b=document.baseURI||self.location.href,(()=>{const t=i(5786);i(1045),(new t.RootComponent).render("#app")})()})();